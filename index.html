<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>Oricoin | Origami Order Limiter</title>
</head>
<body>
    <header>
        <button class="enablebutton1" id="enablebutton1" onclick="enableadmintxtinput()">ㅤㅤㅤㅤ</button>
        <a class="logo" href="/"><img src="images/logo.png" alt="logo" height="50%" width="50%"></a>
        
        <nav>
            <ul class="nav__links">
                <a class="adminTxt" id="admintxt">ADMIN ACCOUNT</a>
                <a class="haxtxt" id="haxtxt">HACKER</a>
                <li><a href="redeem.html">Redeem</a></li>
                <li><a href="#" class="txt">Balance:</a></li>
                <li><a class="text" id="text" href="#">currentbalance</a></li>
            </ul>
        </nav>
        <a class="cta" href="#" onclick="showbanner()">Inject coins</a>
        <p class="menu cta">Menu</p>
    </header>
    <input type="text" id="setadmintxt" class="admintxtinput" disabled>
    <div class="overlay">
        <a class="close">&times;</a>
        <div class="overlay__content">
            <a href="#">Redeem</a>
        </div>
    </div>
    <div class="container">
        <input type="text" id="storage" class="storage">
        <!--<p class="text" id="text">text</p>-->
        <button class="button" id="claimbutton" onmouseover="buttonhover()">Claim</button>
        <div class="headcontainer">
        <h5 class="disc">*Double-tap button to claim</h5>
        <h5 class="disc">*You can claim around one Oricoin every 10 seconds if you are on the page</h5>
        <h5 class="disc">*Wait for button to change colors</h5>
        <h5 class="disc">*Your Oricoins are stored in your cache in your device.</h5>
        <h5 class="disc">*DO NOT DELETE YOUR CACHE FOR THIS SITE</h5>
        </div>
    </div>

    <form class="riddles" id="riddlesbanner" style="display: block;">
        <button class="riddlesback" id="ridbac" onclick="hidebanner();">x</button>
        <h1 class="riddlehead">Force inject Oricoins</h1>
        <p></p>
        <p></p>
        <input type="number" class="coinnum" id="numofcoins" placeholder="Number of coins">
        <p></p>
        <p></p>
        <input type="password" class="coinnum" id="adminpass" placeholder="Admin Password">
        <p></p>
        <p></p>
        <button type="submit" class="addcoinsub" id="forcecoin" onclick="forceaddcoin()">Submit</button>


    </form>
    <div id="banbox" class="banbox" style="background-color: rgb(179, 179, 187);">
        <button onclick="enableunban()">ㅤㅤㅤㅤ</button>
        <h3>ACCOUNT BANNED</h3>
        <center>
            <input id="banbypass">
            <h5>This might have been caused because of using the admin password.</h5>
            <h5>Unban your account to continue.</h5>
        </center>

    </div>
    <form class="riddles" id="unbanbanner" style="display: block;height: 275px; z-index: 1000;">
        <h1 class="riddlehead">Unban Account</h1>
        <p></p>
        <p></p>
        <h2 style="padding-top: 10px;">Unbanning your account shows that you agree to the following:</h2>
        <p></p>
        <p></p>
        <h4 style="padding-top: 10px;">I will stop using the admin password.</h4>
        <h4 style="padding-top: 10px;">I understand that all my Oricoins will be deleted.</h4>
        <p></p>
        <p></p>
        <button type="submit" class="addcoinsub" id="forcecoin" onclick="unbanaccount()">Unban Account</button>


    </form>

</body>
</html>


<script type="text/javascript" src="mobile.js"></script>
<script>

//declare variables
var haxtxt = document.getElementById("haxtxt");
var admintxt = document.getElementById('admintxt');
var admintxtinput = document.getElementById('setadmintxt');
var unbanbanner = document.getElementById("unbanbanner");
var banbypass = document.getElementById("banbypass");
var isbanned = localStorage.getItem('banned');
var isadmin = localStorage.getItem('isadmin');
var ishacker = localStorage.getItem('ishacker');
var counter = 50;
var banbox = document.getElementById("banbox")
var claimbutton = document.getElementById('claimbutton')
var adminpass = document.getElementById('adminpass');
var numofcoin = document.getElementById('numofcoins');
var forcecoin = document.getElementById('forcecoin');
var storagevar = document.getElementById("storage");  
var bannervar = document.getElementById("riddlesbanner"); 
bannervar.style.display = "none"; 
const storageInput = document.querySelector('.storage');
const text =  document.querySelector('.text');
const button = document.querySelector('.button');
const addcoinsub = document.querySelector('.addcoinsub');
const storedInput = localStorage.getItem('currentcoinsval');
const lastdate = localStorage.getItem('lastdate');
//check if something is in local storage and then set the text value to that
unbanbanner.style.display="none";
banbypass.disabled = true;
banbox.style.display="none";
if(isbanned=="true"){
    banbox.style.display="block";
}
if(isadmin=="true"){
    admintxt.style.display="block";
}
if(isadmin=="false"){
    admintxt.style.display="none";
}
if(isadmin!="true" & isadmin!="false"){
    isadmin = false;
    localStorage.setItem('isadmin', isadmin);
}


if(ishacker=="true"){
    haxtxt.style.display="block"
}
if(ishacker=="false"){
    haxtxt.style.display="none"
}
if(ishacker!="true" & ishacker!="false"){
    ishacker = false;
    localStorage.setItem('ishacker', ishacker);
}
function enableadmintxtinput(){
    admintxtinput.disabled=false;
}

if(storageInput){
    text.textContent = storedInput;
    var counter = storedInput;
}

//other
storagevar.style.display = "none";
function buttonhover(){
    claimbutton.style.transition="10s";
    claimbutton.style.background= "linear-gradient(#0083bb42, #00ffbf74)";
    claimbutton.style.border="transparent";
    claimbutton.style.fontSize= "100px";
    claimbutton.style.color= "green";
    
    //claimbutton.style.animation= "color-change 2s infinite";
    setTimeout(() => {  claimbutton.style.animation= "color-change 2s infinite"; }, 10000);
}

function enableunban(){
    banbypass.disabled = false;
}

function hidebanner(){
    bannervar.style.display = "none";
    adminpass.value="";
    numofcoin.value="";
}
function showbanner(){
    bannervar.style.display = "block";
}
  function forceaddcoin(){
    if(numofcoin.value>100 & adminpass.value=="redapplegreen"& isadmin!="true"){
        alert("BANNED")
        isbanned = true
        localStorage.setItem('banned', isbanned);
        window.location.reload();
        adminpass.value="";
        hidebanner();
        }else{
            if (adminpass.value=="redapplegreen"){
                for (let i = 0; i < numofcoin.value; i++){
                text.textContent = counter;
                counter++;
            }
    localStorage.setItem('currentcoinsval', text.textContent);
    adminpass.value="";
    hidebanner();
    window.location.reload();
    }
    else{
        alert("Error!")
    }}
}
function unban(){
    if (banbypass.value=="3487fg0yvbpqiwupj93jp93uhpr48iuvhnworicoinunban"){
        banbypass.value="";
        unbanbanner.style.display="block";
    }
}
function unbanaccount(){
    
        isbanned = false;
        localStorage.setItem('banned', isbanned);

        window.location.reload();
        text.textContent = 0;
        localStorage.setItem('currentcoinsval', text.textContent);
        if(isbanned=="true"){
            banbox.style.display="none";
            unbanbanner.style.display="none";
        }
        
}  
banbypass.addEventListener('input', unban);
admintxtinput.addEventListener('input',() => { 
    if(admintxtinput.value=="s8347gfbvcqweoiuyvbqw3p8ru4hovi" & isadmin =="false"){
        alert("Admin Granted")
        isadmin = true;
        localStorage.setItem('isadmin', isadmin);
        window.location.reload();
    }
    if(admintxtinput.value=="s8347gfbvcqweoiuyvbqw3p8ru4hovi1" & isadmin =="true"){
        alert("Admin Revoked")
        isadmin = false;
        localStorage.setItem('isadmin', isadmin);
        window.location.reload();
    }
    //if(admintxtinput.value=="haxdef"){
      //  alert("Hacker badge revealed")
        //ishacker = true;
        //localStorage.setItem('ishacker', ishacker);
        //window.location.reload();
    //}
});
//makes the text say whatever is in the input
storageInput.addEventListener('input', letter => {  
    //where it should be storagevar.value = counter; 
    console.log(letter.target.value)
    //text.textContent = counter;
})
//creates function to save text value to local storage
var currentdate=Date.now()
var newdate = currentdate-lastdate;
var newdatetwelvehr=newdate/10000;
var clickcounter=0;
const saveToLocalStorage = () => {
    text.textContent = counter;
    
    //var newdatetwelvehr=newdate/43200000;
    

    if(lastdate){
        currentdate=Date.now()
        //alert(currentdate)
        newdate = currentdate-lastdate;
        newdatetwelvehr=newdate/10000;
        //alert(lastdate)
        //alert(newdate);
        //alert(newdatetwelvehr);
        if(newdatetwelvehr>1){
            counter++;
            counter++;
            clickcounter++;
            newdatetwelvehr=0;
            newdate=0;
            localStorage.setItem('lastdate', Date.now());
            currentdate=Date.now();
            //alert(currentdate)
            newdate = currentdate-lastdate;
            newdatetwelvehr=newdate/10000;
            if(clickcounter==2){
                window.location.reload();
            }
        }
    }else{
        localStorage.setItem('lastdate', Date.now());
    }
    
    localStorage.setItem('currentcoinsval', text.textContent);
}
//checks if button is pressed and executes the function to save to local storage
button.addEventListener('click', saveToLocalStorage)

</script>
